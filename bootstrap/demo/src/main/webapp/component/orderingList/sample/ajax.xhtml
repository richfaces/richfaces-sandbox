<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:b="http://richfaces.org/sandbox/bootstrap">
    <h:form id="ajaxForm">
        <b:orderingList id="ajaxOrderingList"
                value="#{listSelectBean.capitals}"
                var="capital"
                caption="Ordering State Capitals"
                onchange="console.log('orderChange')">
            <a4j:ajax listener="#{bean.logMessage(listSelectBean.capitalsString)}" />
            <f:converter converterId="CapitalsConverter" />
            <h:column>
                <f:facet name="header">Flag</f:facet>
                <h:graphicImage library="img/capitals" name="#{capital.stateFlag}" alt="flag"  width="33" />
            </h:column>
            <h:column>
                <f:facet name="header">Name</f:facet>
                #{capital.name}
            </h:column>
            <h:column>
                <f:facet name="header">State</f:facet>
                #{capital.state}
            </h:column>
        </b:orderingList>
        <b:commandButton id="submitButton" value="Submit" execute="ajaxOrderingList" render="ajaxOrderingList" mode="server"/>
    </h:form>
</ui:composition>
